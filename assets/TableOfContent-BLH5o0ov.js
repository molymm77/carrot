import{H as m,p as c,G as h,ah as b,o as l,a as i,q as r,F as g,x as _,n as f,aH as x,v as y}from"./index-C1Vkrpc5.js";const k=["onClick"],w={__name:"TableOfContent",setup(C){const a=c([]),u=c(""),s=c(!1);function d(){const n=Array.from(document.querySelectorAll("h2, h3, h4, h5"));a.value=n.map(e=>(e.id||(e.id=e.textContent.trim().replace(/\s+/g,"-").toLowerCase()),{id:e.id,text:e.textContent,level:Number(e.tagName.slice(1))}))}function p(n){const e=document.getElementById(n);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}function v(){const n=new IntersectionObserver(e=>{for(const t of e)if(t.isIntersecting){u.value=t.target.id;break}},{rootMargin:"0px 0px -70% 0px",threshold:.1});return a.value.forEach(e=>{const t=document.getElementById(e.id);t&&n.observe(t)}),()=>n.disconnect()}let o;return h(()=>{s.value=window.innerWidth>768,d(),o=v();const n=new MutationObserver(()=>{d(),o==null||o(),o=v()});n.observe(document.querySelector(".content"),{childList:!0,subtree:!0}),b(()=>{o==null||o(),n.disconnect()})}),(n,e)=>(l(),i("div",null,[r("button",{class:"toc-toggle",onClick:e[0]||(e[0]=t=>s.value=!s.value)},"Table of Contents"),r("nav",{class:f(["toc",{open:s.value}])},[r("ul",null,[(l(!0),i(g,null,_(a.value,t=>(l(),i("li",{key:t.id,class:f({active:t.id===u.value,[`indent-${t.level}`]:t.level>2})},[r("a",{href:"#",onClick:x(I=>p(t.id),["prevent"])},y(t.text),9,k)],2))),128))])],2)]))}},T=m(w,[["__scopeId","data-v-52fea126"]]);export{T};
